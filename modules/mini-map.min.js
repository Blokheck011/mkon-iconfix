function init(e){var t=e.u;var n=e.c||MKON.LAYOUT.defaultCol;var r=e.r||MKON.LAYOUT.defaultRow;var s=e.m||"";var o=e.w;var u=e.h;var a=MKON.FNC.randomString(5);var f=["o.ApA","o.PeA","o.trueAnomaly","o.eccentricity","v.body"];var l=new MKON.module("Mini-Map","Screen",a,f,function(){function e(e,t,n,r,i,s,o){t+=r*i;var u=r*(1-i*i)/(1+i);var a=t+u;var f=n;e.beginPath();e.moveTo(a,f);var l=0;var c=2*Math.PI;while(l<c){u=r*(1-i*i)/(1+i*Math.cos(l));a=t+u*Math.cos(l);f=n+u*Math.sin(l);e.lineTo(a,f);l+=.01*Math.PI}e.lineWidth=s;e.strokeStyle=o;e.closePath();e.stroke()}function t(e,t,n,r,i,s){t+=r*i;var o=r*(1-i*i)/(1+i*Math.cos(s));var u=-10+t+o*Math.cos(s);var a=-10+n+o*Math.sin(s);e.drawImage(minimapicons,0,0,20,20,u,a,20,20)}function n(e,t){x=t;y=-10;e.drawImage(minimapicons,0,40,20,20,x,y,20,20);x=-20-t;y=-10;e.drawImage(minimapicons,0,20,20,20,x,y,20,20)}function r(e){var t=[["Sun",2616e5],["Kerbin",6e5],["Mun",2e5],["Minmus",6e4],["Eve",7e5],["Gilly",13e3],["Moho",25e4],["Duna",32e4],["Dres",138e3],["Jool",6e6],["Laythe",5e5],["Vall",3e5],["Tylo",6e5],["Bop",65e3],["Pol",44e3],["Eeloo",138e3],["Ike",13e4]];for(i=0;i<t.length;i++){if(e===t[i][0]){return t[i][1]}}return 0}function s(e){var t=[["Sun",0],["Kerbin",69077],["Mun",0],["Minmus",0],["Eve",96708],["Gilly",0],["Moho",0],["Duna",202650],["Dres",0],["Jool",138155],["Laythe",55262],["Vall",0],["Tylo",0],["Bop",0],["Pol",0],["Eeloo",0],["Ike",0]];for(i=0;i<t.length;i++){if(e===t[i][0]){return t[i][1]}}return 0}var o=$("#"+this.id);var u=180;var a=document.getElementById("canvas"+this.id);var l=a.getContext("2d");var c=MKON.CONTENT.getVariable(f[0]);var h=MKON.CONTENT.getVariable(f[1]);var p=MKON.CONTENT.getVariable(f[2]);var d=MKON.CONTENT.getVariable(f[3]);var v=MKON.CONTENT.getVariable(f[4]);var m=r(v);var g=m+2*s(v);var b=2*u/(h+c+2*m);var w=-(p/190)*Math.PI;l.save();l.clearRect(0,0,400,400);l.translate(200,200);if(d<1){e(l,0,0,u,d,1,"YellowGreen");e(l,d*u,0,m*b,0,.5,"White");e(l,d*u,0,g*b,0,.1,"LightBlue");t(l,0,0,u,d,w);n(l,u);l.fillStyle="lightgrey";l.font="15pt BebasNeue";l.translate(-200,-180);l.fillText("ORBITING "+v,0,0)}else{l.fillStyle="lightgrey";l.font="15pt BebasNeue";l.translate(-200,-180);l.fillText("paraboloid orbits not yet implemented...",0,0)}l.restore()});var c='<li id="'+a+'" data-row="1" data-col="1" data-link="'+t+'" data-sizex="4" data-sizey="4">						<div class="options">							<div class="remove"><i class="fa fa-times"></i>							</div>						</div>						<div class="content">							<div class="mini-map screen">								<script>									minimapicons = new Image();									minimapicons.src = "./img/minimapicons.png";								</script>								<canvas class="mapcanvas" id="canvas'+a+'" height="400" width="400"></canvas>								<h3>MINI-MAP</h3>								</div>							</div>						</div>					</li>';c={html:c,x:4,y:4,col:n,row:r};MKON.CONTENT.addModule(l,c)}